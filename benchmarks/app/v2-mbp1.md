
# MBP 1

## Env

- `sysctl -n machdep.cpu.brand_string`: Intel(R) Core(TM) i7-9750H CPU @ 2.60GHz
- `sysctl hw.memsize`: 17179869184

## autocannon -c=100 -p=10 -d=10 (node: v15.0.1)

### 0 middlewares 76947

```bash
┌─────────┬─────────┬────────┬─────────────────────────┬──────────────────────┬────────────────────────────┐
│         │ Version │ Router │ Requests/s (% of mrapi) │ Latency (% of mrapi) │ Throughput/Mb (% of mrapi) │
├─────────┼─────────┼────────┼─────────────────────────┼──────────────────────┼────────────────────────────┤
│ mrapi   │ 1.0.0   │ ✓      │ 76947.2 (100.00)        │ 1.25 (100.00)        │ 9.91 (100.00)              │ <--
├─────────┼─────────┼────────┼─────────────────────────┼──────────────────────┼────────────────────────────┤
│ bare    │ 15.0.0  │ ✗      │ 71006.55 (92.28)        │ 1.35 (108.00)        │ 9.14 (92.27)               │
├─────────┼─────────┼────────┼─────────────────────────┼──────────────────────┼────────────────────────────┤
│ polka   │ 0.5.2   │ ✓      │ 70951.28 (92.21)        │ 1.35 (108.00)        │ 9.13 (92.19)               │
├─────────┼─────────┼────────┼─────────────────────────┼──────────────────────┼────────────────────────────┤
│ connect │ 3.7.0   │ ✗      │ 70183.28 (91.21)        │ 1.37 (109.60)        │ 9.04 (91.20)               │
├─────────┼─────────┼────────┼─────────────────────────┼──────────────────────┼────────────────────────────┤
│ fastify │ 3.7.0   │ ✓      │ 66576 (86.52)           │ 1.44 (115.20)        │ 11.17 (112.77)             │
├─────────┼─────────┼────────┼─────────────────────────┼──────────────────────┼────────────────────────────┤
│ restana │ 4.8.0   │ ✓      │ 65281.6 (84.84)         │ 1.48 (118.40)        │ 8.40 (84.83)               │
├─────────┼─────────┼────────┼─────────────────────────┼──────────────────────┼────────────────────────────┤
│ koa     │ 2.13.0  │ ✓      │ 48574.55 (63.13)        │ 2 (160.00)           │ 8.15 (82.29)               │
├─────────┼─────────┼────────┼─────────────────────────┼──────────────────────┼────────────────────────────┤
│ express │ 4.17.1  │ ✓      │ 20604.37 (26.78)        │ 4.76 (380.80)        │ 2.65 (26.77)               │
└─────────┴─────────┴────────┴─────────────────────────┴──────────────────────┴────────────────────────────┘
```

### 10 middlewares 76889


```bash
┌─────────┬─────────┬────────┬─────────────────────────┬──────────────────────┬────────────────────────────┐
│         │ Version │ Router │ Requests/s (% of mrapi) │ Latency (% of mrapi) │ Throughput/Mb (% of mrapi) │
├─────────┼─────────┼────────┼─────────────────────────┼──────────────────────┼────────────────────────────┤
│ mrapi   │ 1.0.0   │ ✓      │ 76889.61 (100.00)       │ 1.25 (100.00)        │ 9.90 (100.00)              │ <--
├─────────┼─────────┼────────┼─────────────────────────┼──────────────────────┼────────────────────────────┤
│ bare    │ 15.0.0  │ ✗      │ 72690.91 (94.54)        │ 1.32 (105.60)        │ 9.36 (94.54)               │
├─────────┼─────────┼────────┼─────────────────────────┼──────────────────────┼────────────────────────────┤
│ fastify │ 3.7.0   │ ✓      │ 66861.1 (86.96)         │ 1.44 (115.20)        │ 11.22 (113.38)             │
├─────────┼─────────┼────────┼─────────────────────────┼──────────────────────┼────────────────────────────┤
│ polka   │ 0.5.2   │ ✓      │ 66616.73 (86.64)        │ 1.44 (115.20)        │ 8.58 (86.64)               │
├─────────┼─────────┼────────┼─────────────────────────┼──────────────────────┼────────────────────────────┤
│ connect │ 3.7.0   │ ✗      │ 66459.64 (86.44)        │ 1.45 (116.00)        │ 8.55 (86.42)               │
├─────────┼─────────┼────────┼─────────────────────────┼──────────────────────┼────────────────────────────┤
│ restana │ 4.8.0   │ ✓      │ 64145.46 (83.43)        │ 1.5 (120.00)         │ 8.26 (83.44)               │
├─────────┼─────────┼────────┼─────────────────────────┼──────────────────────┼────────────────────────────┤
│ koa     │ 2.13.0  │ ✓      │ 45741.1 (59.49)         │ 2.12 (169.60)        │ 7.68 (77.56)               │
├─────────┼─────────┼────────┼─────────────────────────┼──────────────────────┼────────────────────────────┤
│ express │ 4.17.1  │ ✓      │ 18512.73 (24.08)        │ 5.3 (424.00)         │ 2.38 (24.08)               │
└─────────┴─────────┴────────┴─────────────────────────┴──────────────────────┴────────────────────────────┘
```

### 100 middlewares 73771


```bash
┌─────────┬─────────┬────────┬─────────────────────────┬──────────────────────┬────────────────────────────┐
│         │ Version │ Router │ Requests/s (% of mrapi) │ Latency (% of mrapi) │ Throughput/Mb (% of mrapi) │
├─────────┼─────────┼────────┼─────────────────────────┼──────────────────────┼────────────────────────────┤
│ mrapi   │ 1.0.0   │ ✓      │ 73771.64 (100.00)       │ 1.3 (100.00)         │ 9.50 (100.00)              │ <--
├─────────┼─────────┼────────┼─────────────────────────┼──────────────────────┼────────────────────────────┤
│ polka   │ 0.5.2   │ ✓      │ 70142.55 (95.08)        │ 1.37 (105.38)        │ 9.03 (95.06)               │
├─────────┼─────────┼────────┼─────────────────────────┼──────────────────────┼────────────────────────────┤
│ fastify │ 3.7.0   │ ✓      │ 69138.91 (93.72)        │ 1.39 (106.92)        │ 11.60 (122.16)             │
├─────────┼─────────┼────────┼─────────────────────────┼──────────────────────┼────────────────────────────┤
│ bare    │ 15.0.0  │ ✗      │ 67617.46 (91.66)        │ 1.42 (109.23)        │ 8.71 (91.65)               │
├─────────┼─────────┼────────┼─────────────────────────┼──────────────────────┼────────────────────────────┤
│ restana │ 4.8.0   │ ✓      │ 49417.6 (66.99)         │ 1.97 (151.54)        │ 6.36 (66.96)               │
├─────────┼─────────┼────────┼─────────────────────────┼──────────────────────┼────────────────────────────┤
│ koa     │ 2.13.0  │ ✓      │ 48885.82 (66.27)        │ 1.99 (153.08)        │ 8.21 (86.38)               │
├─────────┼─────────┼────────┼─────────────────────────┼──────────────────────┼────────────────────────────┤
│ connect │ 3.7.0   │ ✗      │ 41325.1 (56.02)         │ 2.35 (180.77)        │ 5.32 (56.00)               │
├─────────┼─────────┼────────┼─────────────────────────┼──────────────────────┼────────────────────────────┤
│ express │ 4.17.1  │ ✓      │ 21125.1 (28.64)         │ 4.64 (356.92)        │ 2.72 (28.63)               │
└─────────┴─────────┴────────┴─────────────────────────┴──────────────────────┴────────────────────────────┘
```

### 1000 middlewares 73675


```bash
┌─────────┬─────────┬────────┬────────────────────────┬─────────────────────┬───────────────────────────┐
│         │ Version │ Router │ Requests/s (% of bare) │ Latency (% of bare) │ Throughput/Mb (% of bare) │
├─────────┼─────────┼────────┼────────────────────────┼─────────────────────┼───────────────────────────┤
│ bare    │ 15.0.0  │ ✗      │ 75296 (100.00)         │ 1.27 (100.00)       │ 9.69 (100.00)             │
├─────────┼─────────┼────────┼────────────────────────┼─────────────────────┼───────────────────────────┤
│ mrapi   │ 1.0.0   │ ✓      │ 73675.2 (97.85)        │ 1.3 (102.36)        │ 9.48 (97.84)              │ <--
├─────────┼─────────┼────────┼────────────────────────┼─────────────────────┼───────────────────────────┤
│ polka   │ 0.5.2   │ ✓      │ 73208.73 (97.23)       │ 1.31 (103.15)       │ 9.43 (97.24)              │
├─────────┼─────────┼────────┼────────────────────────┼─────────────────────┼───────────────────────────┤
│ restana │ 4.8.0   │ ✓      │ 66932.8 (88.89)        │ 1.44 (113.39)       │ 8.62 (88.90)              │
├─────────┼─────────┼────────┼────────────────────────┼─────────────────────┼───────────────────────────┤
│ fastify │ 3.7.0   │ ✓      │ 65282.91 (86.70)       │ 1.47 (115.75)       │ 10.96 (113.06)            │
├─────────┼─────────┼────────┼────────────────────────┼─────────────────────┼───────────────────────────┤
│ koa     │ 2.13.0  │ ✓      │ 52309.82 (69.47)       │ 1.85 (145.67)       │ 8.78 (90.57)              │
├─────────┼─────────┼────────┼────────────────────────┼─────────────────────┼───────────────────────────┤
│ express │ 4.17.1  │ ✓      │ 19200.73 (25.50)       │ 5.11 (402.36)       │ 2.47 (25.50)              │
├─────────┼─────────┼────────┼────────────────────────┼─────────────────────┼───────────────────────────┤
│ connect │ 3.7.0   │ ✗      │ 8820 (11.71)           │ 11.15 (877.95)      │ 1.14 (11.71)              │
└─────────┴─────────┴────────┴────────────────────────┴─────────────────────┴───────────────────────────┘
```

### 10000 middlewares 65874


```bash
┌─────────┬─────────┬────────┬───────────────────────────┬────────────────────────┬──────────────────────────────┐
│         │ Version │ Router │ Requests/s (% of connect) │ Latency (% of connect) │ Throughput/Mb (% of connect) │
├─────────┼─────────┼────────┼───────────────────────────┼────────────────────────┼──────────────────────────────┤
│ connect │ 3.7.0   │ ✗      │ 69889.46 (100.00)         │ 1.37 (100.00)          │ 9.00 (100.00)                │
├─────────┼─────────┼────────┼───────────────────────────┼────────────────────────┼──────────────────────────────┤
│ polka   │ 0.5.2   │ ✓      │ 69112.73 (98.89)          │ 1.39 (101.46)          │ 8.90 (98.90)                 │
├─────────┼─────────┼────────┼───────────────────────────┼────────────────────────┼──────────────────────────────┤
│ bare    │ 15.0.0  │ ✗      │ 68578.91 (98.12)          │ 1.4 (102.19)           │ 8.83 (98.12)                 │
├─────────┼─────────┼────────┼───────────────────────────┼────────────────────────┼──────────────────────────────┤
│ mrapi   │ 1.0.0   │ ✓      │ 65874.91 (94.26)          │ 1.46 (106.57)          │ 8.48 (94.27)                 │ <--
├─────────┼─────────┼────────┼───────────────────────────┼────────────────────────┼──────────────────────────────┤
│ fastify │ 3.7.0   │ ✓      │ 63799.28 (91.29)          │ 1.51 (110.22)          │ 10.71 (119.01)               │
├─────────┼─────────┼────────┼───────────────────────────┼────────────────────────┼──────────────────────────────┤
│ restana │ 4.8.0   │ ✓      │ 57098.19 (81.70)          │ 1.7 (124.09)           │ 7.35 (81.69)                 │
├─────────┼─────────┼────────┼───────────────────────────┼────────────────────────┼──────────────────────────────┤
│ koa     │ 2.13.0  │ ✓      │ 46872.73 (67.07)          │ 2.07 (151.09)          │ 7.87 (87.44)                 │
├─────────┼─────────┼────────┼───────────────────────────┼────────────────────────┼──────────────────────────────┤
│ express │ 4.17.1  │ ✓      │ 18941.6 (27.10)           │ 5.18 (378.10)          │ 2.44 (27.10)                 │
└─────────┴─────────┴────────┴───────────────────────────┴────────────────────────┴──────────────────────────────┘
```

## autocannon -c=100 -p=10 -d=40 (node: v15.0.1)

### 0 middlewares 62180


```bash
┌─────────┬─────────┬────────┬─────────────────────────┬──────────────────────┬────────────────────────────┐
│         │ Version │ Router │ Requests/s (% of polka) │ Latency (% of polka) │ Throughput/Mb (% of polka) │
├─────────┼─────────┼────────┼─────────────────────────┼──────────────────────┼────────────────────────────┤
│ polka   │ 0.5.2   │ ✓      │ 72873.2 (100.00)        │ 1.32 (100.00)        │ 9.38 (100.00)              │
├─────────┼─────────┼────────┼─────────────────────────┼──────────────────────┼────────────────────────────┤
│ bare    │ 15.0.0  │ ✗      │ 70979.2 (97.40)         │ 1.35 (102.27)        │ 9.14 (97.40)               │
├─────────┼─────────┼────────┼─────────────────────────┼──────────────────────┼────────────────────────────┤
│ connect │ 3.7.0   │ ✗      │ 69733.61 (95.69)        │ 1.38 (104.55)        │ 8.98 (95.68)               │
├─────────┼─────────┼────────┼─────────────────────────┼──────────────────────┼────────────────────────────┤
│ restana │ 4.8.0   │ ✓      │ 68259.2 (93.67)         │ 1.41 (106.82)        │ 8.79 (93.66)               │
├─────────┼─────────┼────────┼─────────────────────────┼──────────────────────┼────────────────────────────┤
│ fastify │ 3.7.0   │ ✓      │ 67528.8 (92.67)         │ 1.42 (107.58)        │ 11.33 (120.79)             │
├─────────┼─────────┼────────┼─────────────────────────┼──────────────────────┼────────────────────────────┤
│ mrapi   │ 1.0.0   │ ✓      │ 62180.8 (85.33)         │ 1.55 (117.42)        │ 8.01 (85.32)               │ <--
├─────────┼─────────┼────────┼─────────────────────────┼──────────────────────┼────────────────────────────┤
│ koa     │ 2.13.0  │ ✓      │ 50538.4 (69.35)         │ 1.92 (145.45)        │ 8.48 (90.41)               │
├─────────┼─────────┼────────┼─────────────────────────┼──────────────────────┼────────────────────────────┤
│ express │ 4.17.1  │ ✓      │ 20404 (28.00)           │ 4.81 (364.39)        │ 2.63 (28.00)               │
└─────────┴─────────┴────────┴─────────────────────────┴──────────────────────┴────────────────────────────┘
```

### 100 middlewares 77968


```bash
┌─────────┬─────────┬────────┬────────────────────────┬─────────────────────┬───────────────────────────┐
│         │ Version │ Router │ Requests/s (% of bare) │ Latency (% of bare) │ Throughput/Mb (% of bare) │
├─────────┼─────────┼────────┼────────────────────────┼─────────────────────┼───────────────────────────┤
│ bare    │ 15.0.0  │ ✗      │ 79963.2 (100.00)       │ 1.2 (100.00)        │ 10.30 (100.00)            │
├─────────┼─────────┼────────┼────────────────────────┼─────────────────────┼───────────────────────────┤
│ mrapi   │ 1.0.0   │ ✓      │ 77968 (97.50)          │ 1.23 (102.50)       │ 10.04 (97.50)             │ <--
├─────────┼─────────┼────────┼────────────────────────┼─────────────────────┼───────────────────────────┤
│ polka   │ 0.5.2   │ ✓      │ 73445.61 (91.85)       │ 1.3 (108.33)        │ 9.46 (91.84)              │
├─────────┼─────────┼────────┼────────────────────────┼─────────────────────┼───────────────────────────┤
│ restana │ 4.8.0   │ ✓      │ 65578.4 (82.01)        │ 1.47 (122.50)       │ 8.44 (82.00)              │
├─────────┼─────────┼────────┼────────────────────────┼─────────────────────┼───────────────────────────┤
│ koa     │ 2.13.0  │ ✓      │ 52648.8 (65.84)        │ 1.84 (153.33)       │ 8.84 (85.83)              │
├─────────┼─────────┼────────┼────────────────────────┼─────────────────────┼───────────────────────────┤
│ connect │ 3.7.0   │ ✗      │ 46604 (58.28)          │ 2.08 (173.33)       │ 6.00 (58.27)              │
├─────────┼─────────┼────────┼────────────────────────┼─────────────────────┼───────────────────────────┤
│ fastify │ 3.7.0   │ ✓      │ 15212.75 (19.02)       │ 76.82 (6401.67)     │ 2.55 (24.80)              │
├─────────┼─────────┼────────┼────────────────────────┼─────────────────────┼───────────────────────────┤
│ express │ 4.17.1  │ ✓      │ 8112.5 (10.15)         │ 12.19 (1015.83)     │ 1.04 (10.14)              │
└─────────┴─────────┴────────┴────────────────────────┴─────────────────────┴───────────────────────────┘
```

### 1000 middlewares 65512


```bash
┌─────────┬─────────┬────────┬─────────────────────────┬──────────────────────┬────────────────────────────┐
│         │ Version │ Router │ Requests/s (% of polka) │ Latency (% of polka) │ Throughput/Mb (% of polka) │
├─────────┼─────────┼────────┼─────────────────────────┼──────────────────────┼────────────────────────────┤
│ polka   │ 0.5.2   │ ✓      │ 72260 (100.00)          │ 1.33 (100.00)        │ 9.30 (100.00)              │
├─────────┼─────────┼────────┼─────────────────────────┼──────────────────────┼────────────────────────────┤
│ fastify │ 3.7.0   │ ✓      │ 72070 (99.74)           │ 1.33 (100.00)        │ 12.10 (130.04)             │
├─────────┼─────────┼────────┼─────────────────────────┼──────────────────────┼────────────────────────────┤
│ bare    │ 15.0.0  │ ✗      │ 71549.61 (99.02)        │ 1.34 (100.75)        │ 9.21 (99.02)               │
├─────────┼─────────┼────────┼─────────────────────────┼──────────────────────┼────────────────────────────┤
│ mrapi   │ 1.0.0   │ ✓      │ 65512 (90.66)           │ 1.47 (110.53)        │ 8.43 (90.66)               │ <--
├─────────┼─────────┼────────┼─────────────────────────┼──────────────────────┼────────────────────────────┤
│ restana │ 4.8.0   │ ✓      │ 62054.4 (85.88)         │ 1.56 (117.29)        │ 7.99 (85.87)               │
├─────────┼─────────┼────────┼─────────────────────────┼──────────────────────┼────────────────────────────┤
│ koa     │ 2.13.0  │ ✓      │ 50441.6 (69.81)         │ 1.92 (144.36)        │ 8.47 (91.01)               │
├─────────┼─────────┼────────┼─────────────────────────┼──────────────────────┼────────────────────────────┤
│ express │ 4.17.1  │ ✓      │ 20301.2 (28.09)         │ 4.84 (363.91)        │ 2.61 (28.09)               │
├─────────┼─────────┼────────┼─────────────────────────┼──────────────────────┼────────────────────────────┤
│ connect │ 3.7.0   │ ✗      │ 9241.3 (12.79)          │ 10.68 (803.01)       │ 1.19 (12.79)               │
└─────────┴─────────┴────────┴─────────────────────────┴──────────────────────┴────────────────────────────┘
```

## autocannon -c=100 -p=10 -d=60 (node: v15.0.1)

### 100 middlewares 71389


```bash
┌─────────┬─────────┬────────┬────────────────────────┬─────────────────────┬───────────────────────────┐
│         │ Version │ Router │ Requests/s (% of bare) │ Latency (% of bare) │ Throughput/Mb (% of bare) │
├─────────┼─────────┼────────┼────────────────────────┼─────────────────────┼───────────────────────────┤
│ bare    │ 15.0.0  │ ✗      │ 75035.74 (100.00)      │ 1.28 (100.00)       │ 9.66 (100.00)             │
├─────────┼─────────┼────────┼────────────────────────┼─────────────────────┼───────────────────────────┤
│ mrapi   │ 1.0.0   │ ✓      │ 71389 (95.14)          │ 1.21 (94.53)        │ 9.19 (95.16)              │ <--
├─────────┼─────────┼────────┼────────────────────────┼─────────────────────┼───────────────────────────┤
│ fastify │ 3.7.0   │ ✓      │ 70857.87 (94.43)       │ 1.35 (105.47)       │ 11.89 (123.11)            │
├─────────┼─────────┼────────┼────────────────────────┼─────────────────────┼───────────────────────────┤
│ polka   │ 0.5.2   │ ✓      │ 67058.14 (89.37)       │ 1.43 (111.72)       │ 8.63 (89.36)              │
├─────────┼─────────┼────────┼────────────────────────┼─────────────────────┼───────────────────────────┤
│ restana │ 4.8.0   │ ✓      │ 62033.6 (82.67)        │ 1.56 (121.88)       │ 7.99 (82.67)              │
├─────────┼─────────┼────────┼────────────────────────┼─────────────────────┼───────────────────────────┤
│ koa     │ 2.13.0  │ ✓      │ 52284.27 (69.68)       │ 1.85 (144.53)       │ 8.78 (90.84)              │
├─────────┼─────────┼────────┼────────────────────────┼─────────────────────┼───────────────────────────┤
│ connect │ 3.7.0   │ ✗      │ 44005.34 (58.65)       │ 2.21 (172.66)       │ 5.67 (58.65)              │
├─────────┼─────────┼────────┼────────────────────────┼─────────────────────┼───────────────────────────┤
│ express │ 4.17.1  │ ✓      │ 21244.27 (28.31)       │ 4.62 (360.94)       │ 2.74 (28.31)              │
└─────────┴─────────┴────────┴────────────────────────┴─────────────────────┴───────────────────────────┘
```
